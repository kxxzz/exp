
[
    def [make_enum t k]
    [fmt "typedef enum %s\n{\n" t]
    [
        for k [e]
        [indent 1] [fmt "%s,\n" e]
    ]
    [indent 1] [fmt "\nNum%ss" t]
    [fmt "\n} %s;\n" t]
    [enter]
    [fmt "static const char* %sNameTable[Num%ss] =\n{\n" t t]
    [
        for k [e]
        [indent 1] [fmt "\"%s\"," k]
    ]
    [fmt "};\n"]
]


[
    def srcList
    [data "0.prim"]
]

[
    for srcList [src]
    [def list [read_list src]]
    [
        for list [item]
        [
            match item
            [enum [?t] [?k many]]
            [make_enum t k]
        ]
    ]
]























































































































































